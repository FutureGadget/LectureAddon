<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>panel</title>
    <!-- 모바일 환경에 최적화 하기 위해 확대,축소기능 제한 -->
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0,
          maximum-scale=1.0, minimum-scale=1.0,
          user-scalable=no">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />

    <style>
        .ui-icon-myIcon:after {
            background-image: url("theme/icons/ic_help_white_18dp_2x.png");
        }
        #qbutton {
            width: 100%;
        }
        #qform {
            display: none;
        }
        ul div.ui-field-contain {
            display: none;
        }
    </style>
</head>
<body>
<div id="home" data-role="page">
    <div data-role="header" data-position="fixed">
        <h1>header</h1>
        <a href="next.html" data-transition="slide">다음페이지</a>
    </div>
    <div id="content" data-role="content">
        <h1>운영체제</h1>
        <ul data-role="listview" data-inset="true" data-filter="true">
            <li>
                <a id="test" href="#">
                    <h3>Thread Synchronization 에 대해 다시 설명해 주세요</h3>
                    <span class="ui-li-count">10</span>
                </a>
                <a href="#" data-icon="star"></a>

            </li>
            <div id="0" class="ui-field-contain">
                <p style="font-size:30px">질문글입니다.</p>
                <ul data-role="listview" data-inset="true">
                    <li><a>조교1: 가나다라마바사</a></a><a href="#" data-icon="delete"></a></li>
                    <li>조교1: 가나다라마바사</li>
                    <li>조교1: 가나다라마바사</li>
                </ul>
            </div>
            <li>
                <a href="#">
                    <h3>Thread Synchronization 에 대해 다시 설명해 주세요</h3>
                    <span class="ui-li-count">10</span>
                </a>
                <a href="#" data-icon="star"></a>

            </li>
        </ul>
    </div>
    <div data-role="footer" data-position="fixed" style="text-align: center">
        <a id="qbutton" data-role="button" href="#" data-icon="myIcon" data-iconpos="top">질문하기</a>
        <form id="qform" method="post" action="">
            <div class="ui-field-contain">
                <label for="fname">제목:</label>
                <input type="text" name="fname" id="fname">
                <label for="info">내용: </label>
                <textarea name="addinfo" id="info"></textarea>
            </div>
        </form>
    </div>
</div>

<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script>
    $("#qbutton").on("click", function() {
        $("#qform").slideToggle(function () {
            if ($(this).css("display") == "none") {
                changeButtonIcon($("#qbutton"), 'myIcon', 'check', '질문하기');
            } else {
                changeButtonIcon($("#qbutton"), 'check', 'myIcon', '제출');
            }
        });
    });

    $("#test").on("click", function() {
       $("#0").slideToggle();
    });

    $("#test").on("blur", function() {
       $("#0").slideUp();
    });

    function changeButtonIcon(button, newIcon, oldIcon, text) {
        button.text(text);
        button.attr("data-icon", newIcon);
        button.addClass('ui-icon-'+newIcon).removeClass('ui-icon-'+oldIcon);
    }
</script>
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
</body>
</html>